<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>正弦波-方波发生器电路设计 | GanSer</title><meta name="keywords" content="📕知识,🧠教程"><meta name="author" content="GanSer"><meta name="copyright" content="GanSer"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="正弦波-方波发生器电路设计"><meta name="application-name" content="正弦波-方波发生器电路设计"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta name="description" content="🍬模电课程设计-正弦波-方波发生器电路设计">
<meta property="og:type" content="article">
<meta property="og:title" content="正弦波-方波发生器电路设计">
<meta property="og:url" content="https://www.gan1ser.top/post/2a2776c4.html">
<meta property="og:site_name" content="GanSer">
<meta property="og:description" content="🍬模电课程设计-正弦波-方波发生器电路设计">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pic.gan1ser.top/post/49.webp">
<meta property="article:published_time" content="2023-01-05T12:00:00.000Z">
<meta property="article:modified_time" content="2023-01-05T12:00:00.000Z">
<meta property="article:author" content="GanSer">
<meta property="article:tag" content="📕知识">
<meta property="article:tag" content="🧠教程">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pic.gan1ser.top/post/49.webp"><link rel="shortcut icon" href="https://pic.imgdb.cn/item/63f16cddf144a010070697c8.jpg"><link rel="canonical" href="https://www.gan1ser.top/post/2a2776c4"><link rel="preconnect" href="//npm.elemecdn.com"><meta name="google-site-verification" content="xxx"><meta name="baidu-site-verification" content="code-xxx"><meta name="msvalidate.01" content="xxx"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="var(--anzhiyu-main)"><link rel="mask-icon" href="/img/siteicon/apple-icon-180.png" color="#5bbad5"><link rel="apple-touch-icon" sizes="180x180" href="/img/siteicon/apple-icon-180.png"><link rel="apple-touch-icon-precomposed" sizes="180x180" href="/img/siteicon/apple-icon-180.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/siteicon/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/siteicon/16.png"><link rel="bookmark" href="/img/siteicon/apple-icon-180.png"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2732-2048.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2388.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2388-1668.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1536-2048.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-1536.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2224.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2224-1668.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1620-2160.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2160-1620.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1290-2796.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2796-1290.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1179-2556.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2556-1179.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1284-2778.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2778-1284.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1170-2532.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2532-1170.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1125-2436.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2436-1125.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2688.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2688-1242.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-828-1792.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1792-828.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2208.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2208-1242.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-750-1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1334-750.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-640-1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1136-640.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><script>if ('serviceWorker' in navigator) {
  if (navigator.serviceWorker.controller) {
    navigator.serviceWorker.addEventListener('controllerchange', function() {
      location.reload()
    })
  }
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('/service-worker.js')
  })
}</script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css#fontawesome_animation 如果有就会加载，示例值：https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/@fancyapps/ui@4.0.31/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  friends_vue_info: undefined,
  navMusic: true,
  changeMainColorPost: true,
  algolia: {"appId":"BUJ589YK96","apiKey":"6f398a28bd13fccc3f0ec369fe5b2c45","indexName":"GanSer","hits":{"per_page":10},"languages":{"input_placeholder":"键入后按下回车搜索！","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#465855","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://npm.elemecdn.com/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://npm.elemecdn.com/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'GanSer',
  title: '正弦波-方波发生器电路设计',
  postAI: '',
  pageFillDescription: '一、摘要, 关键词, 二、Abstract, Keywords, 三、设计内容以及要求, 1. 设计内容, 2. 设计要求, 四、设计及原理, 1. 总体电路设计方案, 1.1 设计思路, 2. 正弦波发生电路的工作原理, 2.1 产生正弦震荡的条件, 2.2 正弦波振荡电路的组成及分类, 2.3 判断电路是否震荡的方法, 2.4 正弦波震荡电检验的方法, 2.5 正弦震荡电路的分类, 2.6 文氏桥震荡电路（课设使用）, 2.6.1 产生正弦波, 2.6.2 稳定波形幅度, 2.6.2 正弦波幅值为±18V, 2.6.3 正弦波的失真度小于2%, 2.6.4 频率可调, 3. 方波发生电路的工作原理, 3.1 方波发生的方法, 3.2 滞比较器电路, 3.3 方波幅值可调的实现, 4. 正负稳压源的设计原理, 5. 总电路仿真图, 五、单电路仿真, 1. 正弦波发生电路, 1.1 电路结构及参数说明, 1.1.1 电路起振与稳定, 1.1.2 选频网络, 1.1.3 调幅网络, 1.2 仿真结果, 1.2.1 5KHz-18V仿真, 1.2.2 20KHz-18V仿真, 1.2.3 失真度小于2%, 1.2.4 频率及幅值可调, 2. 方波发生电路, 2.1 电路结构及参数说明, 2.1.1 滞回比较器, 2.1.2 改变占空比, 2.1.3 调幅网络, 2.2 仿真结果, 2.2.1 幅值9V的方波, 2.2.2 幅值可调, 3. 恒流源发生电路, 3.1 电路结构及参数说明, 3.1.1 元器件的作用及参数, 3.1.2 调压电路, 六、整体电路仿真测试, 1. 5KHz-19.76V-18.6V仿真测试, 2. 20KHz-36.5V-18.59V仿真测试, 3. 失真度, 4. 各种波的幅度均可调, 七、结论, 八、收获、体会和建议一摘要信号发生器是一种能够产生多种波形如三角波方波正弦波的电路信号发生器在电路实验和设备检测中具有十分广泛的用途本设计通过对信号发生器的原理以及构成进行分析设计了正弦波方波简易信号发生器设计中首先确定了电路方案由直流稳压电源电路文氏振荡器电压比较器组成接着对各单元电路的工作原理进行了分析由直流稳压电源电路提供所需电压文氏振荡器产生正弦波正弦波经电压比较器产生方波并设计比例运算放大电路实现调幅通过改变门限电压调节方波占空比并设计直流稳压源作为电路输入最后利用进行仿真得到结果关键词关键词信号发生器正弦波方波文氏振荡器直流稳压源调频调幅二三设计内容以及要求设计内容利用二极管的基本特性三极管的基本特性运算放大器恒流源电路等知识设计相应的模拟电路设计制作一台能产生方波和正弦波的波形发生器设计要求输出波形频率范围为且连续可调正弦波幅值为失真度小于方波幅值为各种波形幅值均连续可调设计电路所需的直流电源实现硬件电路设计仿真并成功焊接和调试电路焊接规范美观撰写课程设计报告报告结构完整排版美观四设计及原理总体电路设计方案设计思路本课题设计的是一个可以产生正弦波方波的简易信号发生器其中正弦波由文氏震荡电路产生方波由正弦波经电压比较器产生正弦波发生电路的工作原理产生正弦震荡的条件正弦波产生电路的目的就是使电路产生一定频率和幅度的正弦波我们一般在放大电路中引入正反馈并创造条件使其产生稳定可靠的振荡正弦波产生电路的基本结构是引入正反馈的反馈网络和放大电路其中接入正反馈是产生振荡的首要条件它又被称为相位条件产生振荡必须满足幅度条件要保正输出波形为单一频率的正弦波必须具有选频特性同时它还应具有稳幅特性因此正弦波产生电路一般包括放大电路反馈网络选频网络稳幅电路个部分正弦波振荡电路的组成及分类放大电路保证电路能够有从起振到动态平衡的过程电路获得一定幅值的输出值实现自由控制选频网络确定电路的振荡频率是电路产生单一频率的振荡即保证电路产生正弦波振荡正反馈网络引入正反馈使放大电路的输入信号等于其反馈信号稳幅环节也就是非线性环节作用是输出信号幅值稳定判断电路是否震荡的方法电路是否包含了四个组成部分判断放大电路能否正常工作即有无放大能力静态工作是否合适是否满足幅度条件利用瞬时极性法判断是否满足相位条件正弦波震荡电检验的方法则不可能振荡振荡但输出波形明显失真产生振荡振荡稳定后此种情况起振容易振荡稳定输出波形的失真小正弦震荡电路的分类按选频网络的元件类型把正弦振荡电路分为正弦波振荡电路正弦波振荡电路石英晶体正弦波振荡电路文氏桥震荡电路课设使用产生正弦波和为频选网络接于运算放大器的输出与同相输入端之间构成正反馈以产生正弦自激振荡稳定波形幅度为了使振荡幅度稳定通常在放大电路的负反馈回路里加入非线性元件来自动调整负反馈放大电路的增益从而维持输出电压幅度的稳定图中的两个二极管便是稳幅元件当输出电压的幅度较小时电阻两端的电压低于导通电压二极管截止负反馈系数由及决定当输出电压的幅度增加到一定程度时二极管在正负半周轮流工作其动态电阻与并联使负反馈系数加大电压增益下降输出电压的幅度越大二极管的动态电阻越小电压增益也越小输出电压的幅度保持基本稳定正弦波幅值为及组成负反馈网络调节或者可改变负反馈的反馈系数从而调节放大电路的电压增益使电压增益满足振荡的幅度条件实现幅值可调正弦波的失真度小于失真度和幅值有关可以通过调节幅值以减小正弦波的失真度调整即改变负反馈电阻使电路起振且波形失真最小如不能起振则说明负反馈太强应适当加大如波形失真严重则应适当减少频率可调振荡电路的频率改变选频网络的参数或即可调节振荡频率一般采用改变电容作频率量程切换粗调而调节作量程内的频率细调方波发生电路的工作原理方波发生的方法本实验使用滞回比较器将正弦波转换为方波用一个运放接成滞回比较器实现通过调整所提供的基准数值改变输出方波的占空比滞比较器电路输入电压参考电压运放及电阻组成滞回比较器稳压管以及的作用是钳位方波幅值可调的实现实现幅值可调可以使用震荡电路的滑动变阻器进行调节也可以在电压比较器后方添加反向比例放大电路本实验采用第二种方法实现方波幅值为且连续可调通过调节增大或减小电压增益控制方波的幅值可调正负稳压源的设计原理本实验设计电路为双电源输入电路供电电压分别为根据恒流源电路知识设计电源如下具体参数总电路仿真图五单电路仿真正弦波发生电路本电路中采用文氏桥式正弦波振荡电路产生正弦波其仿真图下电路结构及参数说明电路起振与稳定文氏桥振荡电路的幅频响应根据时会起振的条件故应该大于因为是反向放大电路所以故这里电路的可以改小一点便于起振但是为了仿真观察现象我就选取了稳幅要求这里通过并联两个二极管的方式来实现为了使振荡幅度稳定通常在放大电路的负反馈回路里加入非线性元件来自动调整负反馈放大电路的增益从而维持输出电压幅度的稳定图中的两个二极管便是稳幅元件当输出电压的幅度较小时电阻两端的电压低于导通电压二极管截止负反馈系数由及决定与截至的二极管并联电阻较大电压增益较大当输出电压的幅度增加到一定程度时二极管在正负半周轮流工作其动态电阻与并联使负反馈系数加大电压增益下降输出电压的幅度越大二极管的动态电阻越小电压增益也越小输出电压的幅度保持基本稳定选频网络电路中及组成正反馈网络以及选频网络由该电路振荡产生的正弦波频率大小为实验要求正弦波的频率在范围内可调计算可知时滑动变阻器大约在附近时滑动变阻器大约在附近该范围内可实现正弦波频率可调之所以选取较小的电容电容精度会影响失真和较大的电阻是为了防止正弦波失真增大时频率减小减小时频率增大调幅网络电阻构成调幅网络这里通过改变改变电压增益从而实现调幅的功能仿真结果仿真根据计算此时滑动变阻器占占这里使用的是不能显示小数点记得把增量改为仿真根据计算此时滑动变阻器占占这里使用的是不能显示小数点记得把增量改为失真度小于失真度和正弦波的幅值有关如果失真度大于可以选择调小幅值反则调大幅值这里我们接着进行调整占频率及幅值可调课题要求正弦波频率在可调调节和范围在课题要求正弦波幅值为且可调调幅网络调节可以看到在调频调幅的过程中由振荡电路产生的正弦波没有发生明显失真这是产生方波的前提条件方波发生电路本文使用滞回比较器将正弦波变换为方波通过改变参考门限电压改变方波占空比并通过接入反向比例放大电路对方波进行调幅电路结构及参数说明滞回比较器滞回比较器可以分为上行滞回和下行滞回又分别分为有参考电压的和无参考电压的考虑到我们要改变方波的占空比且课题要求方波的幅值为我们采用了带参考电压的上行滞回比较器根据所学知识做出如下计算改变占空比通常我们通过改变比较器的门限电压调整方波的占空比这里我们引入一个电压跟随器它的电压增益为让它的输出接入电压比较器的反相输入端作为参考门限电压然后通过调节电压跟随器正向输入端的滑动变阻器改变输输出电压进而改变门限电压实现方波占空比的调节调幅网络使用反相输入的比例运算放大电路实现调幅所选运放的放大倍数要求较高这里我也是试出来的仿真结果幅值的方波课题要求方波幅值为且可调调幅网络调节幅值可调课题要求设计电路产生的波幅值均可调恒流源发生电路完成的正弦波方波发生器电路为双电源电路输入电压为这里设计一个可调的恒流源用以供电电路结构及参数说明输入电压经过变压器变压变为也就是说点和点电压和中心抽头之间的压差为所以整流桥点的压差为此时输出点的电压为脉动直流元器件的作用及参数脉动直流电压经过两千二百微法的电容输出变得平缓接近直流因为经过电容输出电压为所以选择耐压值大约为的电容电容旁路电容主要是去除到线上的干扰去除高频信号一般选就行和两个电容组成去耦电容大电容滤除低频干扰小电容滤除高平干扰其中大电容还可以起到补充电量的作用当外界信号变化过快时变压块不能快速改变电压大电容可以放电进行补充整流桥的选择因为单二极管需要工作在截至状态所以二极管需要选择能承受为输出可调输入最大值为输出可调电压可调范围为根据稳压块的输入电压范围挑选变压器即可调压电路实现可调电源需要计算可调电阻的阻值范围六整体电路仿真测试仿真测试仿真测试失真度可以通过微调正弦波发生器的调幅网络使电路的失真度小于各种波的幅度均可调七结论电路设计思想比较简单通过文氏桥振荡电路产生正弦波正弦波通过滞回比较器产生方波两种波的幅值均可以通过负反馈网络调节电压增益进行调幅操作根据课题要求本次实验电路设计可以很好的完成一下任务输出波形频率范围为且连续可调正弦波幅值为失真度小于方波幅值为各种波形幅值均连续可调设计电路所需的直流电源但方波失真现象较为明显仍需提高失真度八收获体会和建议通过本次实验我学习了如何系统的设计电路理论知识是实践的前提充分理解实验原理是进行实验的第一步没有理论知识的铺垫就无法设计电路更不知道如何更改电路元器件值自然也得不到预想的结果但同时实践也是巩固和检验理论知识的最好办法大二上学期学习的模拟电路中的很多知识点尤其是运算放大电路和振荡电路在本次实验中进行了巩固学习测试电路时进一步熟悉了示波器等实验器材的使用在波形出现问题的时候要戒骄戒躁细心的一步一步寻找错误排查器件测试波形经过几周的努力我的理论知识掌握与实践动手能力都有了很大的提高对于之后完成更加复杂的项目增强了信心最后感谢陈老师的悉心讲解',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-01-05 12:00:00',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="google-site-verification" content="Tfw3UBpa3L-1YpdcSpYfgEpo2yPLlJBOVXR_aAsqjT0"><meta name="baidu-site-verification" content="codeva-lGhY19ZM6U"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css"><link rel="stylesheet" href="/css/home.css"><link rel="stylesheet" href="/css/imgloaded.css?1"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_4177998_ufp3xnlc2xn.css"><link rel="stylesheet" href="https://cdn1.tianli0.top/gh/zhheo/Post-Abstract-AI@0.1/tianli_gpt.css"><link rel="stylesheet" href="/css/todolist.css"><style>#left-mid-img1 {
  z-index: 999;
  position: fixed;
  left: 0;
  top: calc(50% - 50px);
  transform: translateY(-50%);
  width: 100px;
  height: auto;
}

#left-mid-img2 {
  z-index: 999;
  position: fixed;
  left: 0;
  top: calc(50% + 50px);
  transform: translateY(-50%);
  width: 100px;
  height: auto;
}
#right-mid-img1 {
  z-index: 999;
  position: fixed;
  right: 0;
  top: calc(50% - 50px);
  transform: translateY(-50%);
  width: 110px;
  height: auto;
}
#right-mid-img2 {
  z-index: 999;
  position: fixed;
  right: 0;
  top: calc(50% + 50px);
  transform: translateY(-50%);
  width: 110px;
  height: auto;
}</style><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="GanSer" type="application/atom+xml">
<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet"></head><body data-type="anzhiyu"><img id="left-mid-img1" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://essay.gan1ser.top/post/soyo.gif" alt="Image 1 Description"><img id="left-mid-img2" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://essay.gan1ser.top/post/anno.gif" alt="Image 2 Description"><img id="right-mid-img1" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://essay.gan1ser.top/post/daxiang.gif" alt="Image 1 Description"><img id="right-mid-img2" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://essay.gan1ser.top/post/mu.gif" alt="Image 2 Description"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://pic.imgdb.cn/item/63f16cddf144a010070697c8.jpg"><div class="loading-image-dot"></div><div id="loading-percentage">0%</div></div></div><script>const loadingPercentage = document.getElementById("loading-percentage");
let loadingPercentageTimer = setInterval(function() {
  var progressBar = document.querySelector(".pace-progress");
  if (!progressBar) return
  var currentValue = progressBar.getAttribute("data-progress-text");
  if (currentValue !== loadingPercentage.textContent) {
    loadingPercentage.textContent = currentValue;
    if (currentValue === "100%") {
      clearInterval(loadingPercentageTimer);
    }
  }
}, 100);
const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
    Pace.restart()
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/progress_bar/progress_bar.css"><script async="async" src="https://npm.elemecdn.com/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div id="web_box"><div id="web_container"><div id="menu-mask"></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">博客线路</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.gan1ser.top" title="主域名线路" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63f16cddf144a010070697c8.jpg" alt="主域名线路"><span class="back-menu-item-text">主域名线路</span></a><a class="back-menu-item" href="https://chenchuang.top" title="个人主页" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/2024/06/a8ecc570be921702fe5349062e33ae0f.png" alt="个人主页"><span class="back-menu-item-text">个人主页</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">智能传送</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.github.com/Gan1Ser" title="Github主页" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/64ae1f611ddac507cceb714c.jpg" alt="Github主页"><span class="back-menu-item-text">Github主页</span></a><a class="back-menu-item" href="https://drive.gan1ser.top/" title="OneDrive" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/64400d200d2dde577785f5e5.jpg" alt="OneDrive"><span class="back-menu-item-text">OneDrive</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">GanSer</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/memos/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 即刻短文</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=7750616521&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/collect/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 影漫佳选</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/todolist/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 待办清单</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://pic.gan1ser.top/eassy/imageonline-co-convertedwebpimage%20(1).webp" target="_blank"><img class="post-qr-code-img" alt="wechat" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/eassy/imageonline-co-convertedwebpimage%20(1).webp"></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://pic.gan1ser.top/eassy/imageonline-co-convertedwebpimage.webp" target="_blank"><img class="post-qr-code-img" alt="alipay" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/eassy/imageonline-co-convertedwebpimage.webp"></a><div class="post-qr-code-desc">alipay</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments" onclick="anzhiyu.hideConsole()"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> <span>最新评论</span></span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags" onclick="anzhiyu.hideConsole()"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Github/" style="font-size: 1.05rem;">Github<sup>1</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem;">Linux<sup>1</sup></a><a href="/tags/MSP432/" style="font-size: 1.05rem;">MSP432<sup>4</sup></a><a href="/tags/PCB/" style="font-size: 1.05rem;">PCB<sup>1</sup></a><a href="/tags/Python/" style="font-size: 1.05rem;">Python<sup>2</sup></a><a href="/tags/python/" style="font-size: 1.05rem;">python<sup>3</sup></a><a href="/tags/%E5%8D%95%E7%89%87%E6%9C%BA/" style="font-size: 1.05rem;">单片机<sup>6</sup></a><a href="/tags/%E5%A4%A7%E5%AD%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">大学学习<sup>33</sup></a><a href="/tags/%E5%AE%9E%E4%B9%A0%E8%AE%B0%E5%BD%95/" style="font-size: 1.05rem;">实习记录<sup>1</sup></a><a href="/tags/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/" style="font-size: 1.05rem;">年度总结<sup>1</sup></a><a href="/tags/%E5%BD%B1%E8%AF%84/" style="font-size: 1.05rem;">影评<sup>2</sup></a><a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 1.05rem;">服务器<sup>1</sup></a><a href="/tags/%E7%9F%A5%E8%AF%86/" style="font-size: 1.05rem;">知识<sup>15</sup></a><a href="/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" style="font-size: 1.05rem;">神经网络<sup>1</sup></a><a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 1.05rem;">笔记<sup>3</sup></a><a href="/tags/%E8%80%83%E7%A0%94%E6%95%B0%E5%AD%A6/" style="font-size: 1.05rem;">考研数学<sup>1</sup></a><a href="/tags/%E9%9A%8F%E6%89%8B%E5%B0%8F%E8%AE%B0/" style="font-size: 1.05rem;">随手小记<sup>85</sup></a><a href="/tags/%F0%9F%90%89%E9%9D%92%E9%BE%99%E9%9D%A2%E6%9D%BF/" style="font-size: 1.05rem;">🐉青龙面板<sup>1</sup></a><a href="/tags/%F0%9F%92%BB%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 1.05rem;">💻服务器<sup>3</sup></a><a href="/tags/%F0%9F%92%BB%E9%9A%8F%E8%BA%ABWIFI/" style="font-size: 1.05rem;">💻随身WIFI<sup>1</sup></a><a href="/tags/%F0%9F%93%95%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/" style="font-size: 1.05rem;">📕年度总结<sup>1</sup></a><a href="/tags/%F0%9F%93%95%E7%9F%A5%E8%AF%86/" style="font-size: 1.05rem;">📕知识<sup>38</sup></a><a href="/tags/%F0%9F%93%B1%E6%90%9E%E6%9C%BA/" style="font-size: 1.05rem;">📱搞机<sup>3</sup></a><a href="/tags/%F0%9F%96%8A%E7%AC%94%E8%AE%B0/" style="font-size: 1.05rem;">🖊笔记<sup>31</sup></a><a href="/tags/%F0%9F%9A%97%E6%99%BA%E8%83%BD%E8%BD%A6/" style="font-size: 1.05rem;">🚗智能车<sup>20</sup></a><a href="/tags/%F0%9F%A4%BA%E6%B8%B8%E6%88%8F/" style="font-size: 1.05rem;">🤺游戏<sup>3</sup></a><a href="/tags/%F0%9F%A5%A5%E5%A5%BD%E8%BD%AF%E5%88%86%E4%BA%AB/" style="font-size: 1.05rem;">🥥好软分享<sup>1</sup></a><a href="/tags/%F0%9F%A6%8BButterfly/" style="font-size: 1.05rem;">🦋Butterfly<sup>2</sup></a><a href="/tags/%F0%9F%A7%A0%E6%95%99%E7%A8%8B/" style="font-size: 1.05rem;">🧠教程<sup>14</sup></a><a href="/tags/%F0%9F%A7%A0%E9%9D%9E%E9%85%8B%E6%8A%BD%E5%8D%A1/" style="font-size: 1.05rem;">🧠非酋抽卡<sup>1</sup></a></div></div><hr></div></div><div class="console-card history" onclick="anzhiyu.hideConsole()"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">14</span><span>篇</span></div></a></li></ul></div><hr></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" onclick="anzhiyu.switchDarkMode()" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div><div class="console-btn-item" id="consoleKeyboard" onclick="anzhiyu.keyboardToggle()" title="快捷键开关"><a class="keyboard-switch"><i class="anzhiyufont anzhiyu-icon-keyboard"></i></a></div><div id="console-naoDark"><div class="container"><div class="components"><div class="main-button"><div class="moon"></div><div class="moon"></div><div class="moon"></div></div><div class="daytime-backgrond"></div><div class="daytime-backgrond"></div><div class="daytime-backgrond"></div><div class="cloud"><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div></div><div class="cloud-light"><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div></div><div class="stars"><div class="star big"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star big"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star medium"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star medium"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star small"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star small"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div></div></div></div></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/">课程设计</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%F0%9F%93%95%E7%9F%A5%E8%AF%86/" tabindex="-1"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>📕知识</span></a><a class="article-meta__tags" href="/tags/%F0%9F%A7%A0%E6%95%99%E7%A8%8B/" tabindex="-1"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>🧠教程</span></a></span></div></div><h1 class="post-title">正弦波-方波发生器电路设计</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-01-05T12:00:00.000Z" title="发表于 2023-01-05 12:00:00">2023-01-05</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-01-05T12:00:00.000Z" title="更新于 2023-01-05 12:00:00">2023-01-05</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">4.3k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>13分钟</span></span><span class="post-meta-separator"></span><span id="" data-flag-title="正弦波-方波发生器电路设计"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="twikoo_visitors" title="评论数"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为郑州"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>郑州</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://pic.gan1ser.top/post/49.webp"></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="一-摘要">一、摘要</h2>
<p>​	信号发生器是一种能够产生多种波形，如三角波，方波，正弦波的电路。信号发生器在电路实验和设备检测中具有十分广泛的用途。本设计通过对信号发生器的原理以及构成进行分析，设计了正弦波、方波简易信号发生器。设计中首先确定了电路方案：由直流稳压电源电路，文氏振荡器，电压比较器组成；接着对各单元电路的工作原理进行了分析，由直流稳压电源电路提供所需电压，文氏振荡器产生正弦波，正弦波经电压比较器产生方波，并设计比例运算放大电路实现调幅，通过改变门限电压调节方波占空比，并设计直流稳压源作为电路输入。最后利用<code>Mutisim11.0</code>进行仿真得到结果。</p>
<h3 id="关键词">关键词</h3>
<p>​	关键词：信号发生器、正弦波、方波、文氏振荡器、直流稳压源、调频调幅</p>
<h2 id="二-abstract">二、Abstract</h2>
<p>​	Signal generator is a kind of circuit that can produce a variety of waveforms, such as triangle wave, square wave, sine wave. Signal generator has a wide range of applications in circuit experiments and equipment testing. This design through the analysis of the principle and composition of the signal generator, the design of sine wave, square wave simple signal generator. Firstly, the circuit scheme is determined in the design. It is composed of DC regulated power supply circuit,<code> Wensner</code> oscillator and voltage comparator. Then, the working principle of each unit circuit is analyzed. The required voltage is provided by the DC voltage regulating power supply circuit, and the sinusoidal wave is generated by the <code>Wien</code> oscillator. The sinusoidal wave is generated by the voltage comparator, and the proportional operation amplifying circuit is designed to realize amplitude modulation, and <code>dc</code> voltage regulator is designed as the circuit input Finally, <code>Mutisim11.0</code> was used to simulate the results。</p>
<h3 id="keywords">Keywords</h3>
<p>​	Keywords：Signal generator, sinusoidal wave, square wave, Venn oscillator, DC stabilized power supply, frequency and amplitude modulation</p>
<h2 id="三-设计内容以及要求">三、设计内容以及要求</h2>
<h3 id="1-设计内容">1. 设计内容</h3>
<p>​	利用二极管的基本特性、三极管的基本特性、运算放大器、恒流源电路等知识，设计相应的模拟电路，设计制作一台能产生方波和正弦波的波形发生器</p>
<h3 id="2-设计要求">2. 设计要求</h3>
<ol>
<li>
<p>输出波形频率范围为<code>5kHz~20kHz</code>且连续可调</p>
</li>
<li>
<p>正弦波幅值为<code>±18V</code>，失真度小于<code>2%</code></p>
</li>
<li>
<p>方波幅值为<code>9V</code></p>
</li>
<li>
<p>各种波形幅值均连续可调</p>
</li>
<li>
<p>设计电路所需的直流电源；</p>
</li>
<li>
<p>实现硬件电路设计、仿真并成功焊接和调试</p>
</li>
<li>
<p>电路焊接规范，美观</p>
</li>
<li>
<p>撰写课程设计报告，报告结构完整、排版美观</p>
</li>
</ol>
<h2 id="四-设计及原理">四、设计及原理</h2>
<h3 id="1-总体电路设计方案">1. 总体电路设计方案</h3>
<h4 id="1-1-设计思路">1.1 设计思路</h4>
<p>​	本课题设计的是一个可以产生正弦波，方波的简易信号发生器。其中正弦波由文氏震荡电路产生，方波由正弦波经电压比较器产生。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.staticaly.com/gh/Gan1Ser/img-url@main/2022/12Snipaste_2023-01-04_11-44-52.png" alt="整体方案"></p>
<h3 id="2-正弦波发生电路的工作原理">2. 正弦波发生电路的工作原理</h3>
<h4 id="2-1-产生正弦震荡的条件">2.1 产生正弦震荡的条件</h4>
<p>​		正弦波产生电路的目的就是使电路产生一定频率和幅度的正弦波，我们一般在放大电路中引入正反馈，并创造条件，使其产生稳定可靠的振荡。正弦波产生电路的基本结构是：引入正反馈的反馈网络和放大电路。其中，接入正反馈是产生振荡的首要条件，它又被称为相位条件；产生振荡必须满足幅度条件；要保正输出波形为单一频率的正弦波，必须具有选频特性：同时它还应具有稳幅特性。因此，正弦波产生电路一般包括：放大电路；反馈网络；选频网络；稳幅电路个部分。</p>
<h4 id="2-2-正弦波振荡电路的组成及分类">2.2 正弦波振荡电路的组成及分类</h4>
<ol>
<li>
<p>放大电路：保证电路能够有从起振到动态平衡的过程，电路获得一定幅值的输出值，实现自由控制。</p>
</li>
<li>
<p>选频网络：确定电路的振荡频率，是电路产生单一频率的振荡，即保证电路产生正弦波振荡。</p>
</li>
<li>
<p>正反馈网络：引入正反馈，使放大电路的输入信号等于其反馈信号.</p>
</li>
<li>
<p>稳幅环节：也就是非线性环节，作用是输出信号幅值稳定。</p>
</li>
</ol>
<h4 id="2-3-判断电路是否震荡的方法">2.3 判断电路是否震荡的方法</h4>
<ol>
<li>
<p>电路是否包含了四个组成部分；</p>
</li>
<li>
<p>判断放大电路能否正常工作，即有无放大能力，静态工作是否合适；</p>
</li>
<li>
<p>是否满足幅度条件</p>
</li>
<li>
<p>利用瞬时极性法判断是否满足相位条件</p>
</li>
</ol>
<h4 id="2-4-正弦波震荡电检验的方法">2.4 正弦波震荡电检验的方法</h4>
<p>（1）<code>|A'F'|&lt;1</code>则不可能振荡；</p>
<p>（2）<code>|A'F'|&gt;1</code>振荡，但输出波形明显失真；</p>
<p>（3）<code>|A'F'|&gt;1</code>产生振荡。振荡稳定后<code>|A'F'|=1</code>此种情况起振容易，振荡稳定，输出波形的失真小。</p>
<h4 id="2-5-正弦震荡电路的分类">2.5 正弦震荡电路的分类</h4>
<p>​	按选频网络的元件类型，把正弦振荡电路分为：RC正弦波振荡电路：LC正弦波振荡电路；石英晶体正弦波振荡电路。</p>
<h4 id="2-6-文氏桥震荡电路-课设使用">2.6 文氏桥震荡电路（课设使用）</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b4ff86be43e0d30e92fb0b.png" alt="RC震荡电路"></p>
<h5 id="2-6-1-产生正弦波">2.6.1 产生正弦波</h5>
<p>​	<code>R1</code>、<code>C1</code> 和 <code>R2</code>、<code>C2</code> 为频选网络，接于运算放大器的输出与同相输入端之间，构成正反馈，以产生正弦自激振荡。</p>
<h5 id="2-6-2-稳定波形幅度">2.6.2 稳定波形幅度</h5>
<p>为了使振荡幅度稳定，通常在放大电路的负反馈回路里加入非线性元件来自动调整负反馈放大电路的增益，从而维持输出电压幅度的稳定。图中的两个二极管 <code>D1</code>，<code>D2</code> 便是稳幅元件。（当输出电压的幅度较小时，电阻<code>R4 </code>两端的电压低于导通电压，二极管 <code>D1</code>、<code>D2 </code>截止，负反馈系数由 <code>R3</code>、<code>RW</code>及<code>R4</code> 决定；当输出电压的幅度增加到一定程度时，二极管 <code>D1</code>、<code>D2</code> 在正负半周轮流 工作，其动态电阻与<code> R4</code>并联，使负反馈系数加大，电压增益下降。输出电压的幅度越大，二极管的动态电阻越小，电压增益也越小，输出电压的幅度保持基本稳<br>
定。）</p>
<h5 id="2-6-2-正弦波幅值为-18v">2.6.2 正弦波幅值为<code>±18V</code></h5>
<p>​	<code>R3</code>、<code>Rw</code> 及 <code>R4</code> 组成负反馈网络，调节 <code>Rw</code>或者<code>R3</code>可改变负反馈的反馈系数，从而调节放大电路的电压增益，使电压增益满足振荡的幅度条件，实现幅值可调。</p>
<h5 id="2-6-3-正弦波的失真度小于2">2.6.3 正弦波的失真度小于2%</h5>
<p>​	失真度和幅值有关，可以通过调节幅值以减小正弦波的失真度。调整<code>Rw</code>（即改变负反馈电阻Rf）使电路起振。且波形失真最小。如不能起振，则说明负反馈太强，应适当加大 <code>Rf</code>；如波形失真严重，则应适当减少<code> Rf</code>。</p>
<h5 id="2-6-4-频率可调">2.6.4 频率可调</h5>
<p>​	RC振荡电路的频率(<code>f=1/(2ΠRC)</code>)改变选频网络的参数 C或R，即可调节振荡频率。一般采用改变电容 C 作频率量程切换（粗调），而调节 R 作量程内的频率细调。</p>
<h3 id="3-方波发生电路的工作原理">3. 方波发生电路的工作原理</h3>
<h4 id="3-1-方波发生的方法">3.1 方波发生的方法</h4>
<p>​	本实验使用滞回比较器将正弦波转换为方波，用一个运放接成滞回比较器实现通过调整所提供的基准数值，改变输出方波的占空比。</p>
<h4 id="3-2-滞比较器电路">3.2 滞比较器电路</h4>
<p>​	输入电压<code>Ui</code>，参考电压<code>Ur</code>，运放及电阻<code>R2</code>组成滞回比较器，稳压管以及<code>R1</code>的作用是钳位。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b51842be43e0d30eb6a80c.png" alt="数值比较器"></p>
<h4 id="3-3-方波幅值可调的实现">3.3 方波幅值可调的实现</h4>
<p>​	实现幅值可调可以使用RC震荡电路的滑动变阻器进行调节，也可以在电压比较器后方添加反向比例放大电路。本实验采用第二种方法实现方波幅值为<code>9V</code>且连续可调。通过调节<code>R2</code>增大或减小电压增益控制方波的幅值可调。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b51bf6be43e0d30ebcf801.png" alt="反向比例放大"></p>
<h3 id="4-正负稳压源的设计原理">4. 正负稳压源的设计原理</h3>
<p>​	本实验设计电路为双电源输入电路，供电电压分别为<code>±9V</code>，根据恒流源电路知识设计电源如下（具体参数）。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b51e90be43e0d30ec10ce3.png" alt="恒流源"></p>
<h3 id="5-总电路仿真图">5. 总电路仿真图</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b51facbe43e0d30ec2afaa.png" alt="总电路"></p>
<h2 id="五-单电路仿真">五、单电路仿真</h2>
<h3 id="1-正弦波发生电路">1. 正弦波发生电路</h3>
<p>​	本电路中采用文氏桥式正弦波振荡电路产生正弦波，其仿真图下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b52177be43e0d30ec58e04.png" alt="文氏桥振荡电路"></p>
<h4 id="1-1-电路结构及参数说明">1.1 电路结构及参数说明</h4>
<h5 id="1-1-1-电路起振与稳定">1.1.1 电路起振与稳定</h5>
<p>​	文氏桥振荡电路的幅频响应<code>F=1/3</code>，根据<code>|AF|&gt;1</code>时会起振的条件，故<code>A</code>应该大于<code>3</code>。因为是反向放大电路所以<code>A=1+(R3+R4)/R5 </code>，</p>
<p>故<code>R3+R4&gt;2R5</code>这里电路的<code>R5</code>可以改小一点便于起振，但是为了仿真观察现象我就选取了<code>2.2KΩ</code>。稳幅要求<code>|AF|=1</code>,这里通过<code>R3</code>并联两个二极管的方式来实现，为了使振荡幅度稳定，通常在放大电路的负反馈回路里加入非线性元件来自动调整负反馈放大电路的增益，从而维持输出电压幅度的稳定。图中的两个二极管 <code>D1</code>，<code>D2</code> 便是稳幅元件。（当输出电压的幅度较小时，电阻<code>R3 </code>两端的电压低于导通电压，二极管 <code>D1</code>、<code>D2 </code>截止，负反馈系数由 <code>R3</code>、<code>R5</code>及<code>R4</code> 决定，<code>R3</code>与截至的二极管并联电阻较大，电压增益较大；当输出电压的幅度增加到一定程度时，二极管 <code>D1</code>、<code>D2</code> 在正负半周轮流 工作，其动态电阻与<code> R4</code>并联，使负反馈系数加大，电压增益下降。输出电压的幅度越大，二极管的动态电阻越小，电压增益也越小，输出电压的幅度保持基本稳定。）</p>
<h5 id="1-1-2-选频网络">1.1.2 选频网络</h5>
<p>​	电路中<code>20nF</code>及<code>20KΩ</code>组成正反馈网络以及选频网络，由该电路振荡产生的正弦波频率大小为<code>1/2ΠRC</code>，实验要求正弦波的频率在<code>5kHz~20KHz</code>范围内可调，计算可知<code>5KHz</code>时滑动变阻器大约在7.9%附近，<code>20KHz</code>时滑动变阻器大约在1.7%附近，该范围内可实现正弦波频率可调，之所以选取较小的电容(电容精度会影响失真)和较大的电阻，是为了防止正弦波失真。（R增大时，频率减小；R减小时频率增大）</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b541aabe43e0d30efbf173.jpg" alt="5KHz-20KHz"></p>
<h5 id="1-1-3-调幅网络">1.1.3 调幅网络</h5>
<p>​	电阻<code>R3</code>、<code>R4</code>、<code>R5</code>构成调幅网络，这里通过改变<code>R5</code>改变电压增益<code>A</code>，从而实现调幅的功能。</p>
<h4 id="1-2-仿真结果">1.2 仿真结果</h4>
<h5 id="1-2-1-5khz-18v仿真">1.2.1 <code>5KHz-18V</code>仿真</h5>
<p>​	根据计算此时滑动变阻器占<code>7.8%</code>，<code>R5</code>占<code>48.8%</code>（这里使用的是<code>Multisim11.0</code>不能显示小数点，记得把增量改为0.1%）</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b54443be43e0d30e00c33e.png" alt="5KHz-18v"></p>
<h5 id="1-2-2-20khz-18v仿真">1.2.2 <code>20KHz-18V</code>仿真</h5>
<p>​	根据计算此时滑动变阻器占<code>1.7%</code>，<code>R5</code>占<code>50.2%</code>（这里使用的是<code>Multisim11.0</code>不能显示小数点，记得把增量改为0.1%）</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b54992be43e0d30e09ff66.png" alt="20KHz-18V"></p>
<h5 id="1-2-3-失真度小于2">1.2.3 失真度小于2%</h5>
<p>​	失真度和正弦波的幅值有关，如果失真度大于2%可以选择调小幅值，反则调大幅值(这里我们接着<code>20KHZ</code>进行调整，<code>R5</code>占<code>48%</code>)</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b54be5be43e0d30e0e4006.png" alt="失真度"></p>
<h5 id="1-2-4-频率及幅值可调">1.2.4 频率及幅值可调</h5>
<p>​	课题要求正弦波频率在<code>5KHz~20KHz</code>可调（调节<code>R2</code>和<code>R1</code>，范围在：<code>1.7%~7.8%</code>）</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b55acfbe43e0d30e28dd23.gif" alt="调频率"></p>
<p>​	课题要求正弦波幅值为<code>±18V</code>且可调（调幅网络调节<code>R5</code>）</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b55ceabe43e0d30e2c3618.gif" alt="调幅"></p>
<p>可以看到在调频调幅的过程中，由RC振荡电路产生的正弦波没有发生明显失真，这是产生方波的前提条件。</p>
<h2 id="2-方波发生电路">2. 方波发生电路</h2>
<p>​	本文使用滞回比较器将正弦波变换为方波，通过改变参考（门限）电压改变方波占空比，并通过接入反向比例放大电路对方波进行调幅</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b56076be43e0d30e324a60.png" alt="方波"></p>
<h3 id="2-1-电路结构及参数说明">2.1 电路结构及参数说明</h3>
<h4 id="2-1-1-滞回比较器">2.1.1 滞回比较器</h4>
<p>​	滞回比较器可以分为上行滞回和下行滞回，又分别分为有参考电压的和无参考电压的。考虑到我们要改变方波的占空比，且课题要求方波的幅值为<code>9V</code>，我们采用了带参考电压的上行滞回比较器。根据所学知识做出如下计算：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b566e2be43e0d30e3ca434.png" alt="上行带参数滞回比较器"></p>
<h4 id="2-1-2-改变占空比">2.1.2 改变占空比</h4>
<p>​	通常我们通过改变比较器的门限电压调整方波的占空比。这里我们引入一个电压跟随器它的电压增益为1，让它的输出接入电压比较器的反相输入端作为参考（门限）电压，然后通过调节电压跟随器正向输入端的滑动变阻器改变输输出电压，进而改变门限电压实现方波占空比的调节。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b57054be43e0d30e4cd76e.jpg" alt="阈值计算"></p>
<h4 id="2-1-3-调幅网络">2.1.3 调幅网络</h4>
<p>​	使用反相输入的比例运算放大电路实现调幅，所选运放的放大倍数要求较高，这里我也是试出来的。</p>
<h3 id="2-2-仿真结果">2.2 仿真结果</h3>
<h4 id="2-2-1-幅值9v的方波">2.2.1 幅值<code>9V</code>的方波</h4>
<p>​	课题要求方波幅值为<code>9V</code>且可调（调幅网络调节<code>R10</code>，<code>43%</code>）</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b574e2be43e0d30e5498f5.png" alt="方波9V"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b57590be43e0d30e55b8c7.png" alt="方波完整"></p>
<h4 id="2-2-2-幅值可调">2.2.2 幅值可调</h4>
<p>​	课题要求设计电路产生的波幅值均可调</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b5791ebe43e0d30e5c52b9.gif" alt="方波可调"></p>
<h2 id="3-恒流源发生电路">3. 恒流源发生电路</h2>
<p>​	完成的正弦波-方波发生器电路为双电源电路，输入电压为<code>±9V</code>，这里设计一个可调的恒流源用以供电</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b51e90be43e0d30ec10ce3.png" alt="恒流源"></p>
<h3 id="3-1-电路结构及参数说明">3.1 电路结构及参数说明</h3>
<p>​	<code>220V</code>输入电压经过变压器变压（<code>10:1</code>）变为<code>22V</code>，也就是说<code>2</code>点和<code>3</code>点电压和中心抽头之间的压差为<code>22V</code>，所以整流桥<code>2</code>，<code>3</code>点的压差为<code>44V</code>。此时输出<code>1</code>点的电压为脉动直流。</p>
<h4 id="3-1-1-元器件的作用及参数">3.1.1 元器件的作用及参数</h4>
<ol>
<li>
<p>脉动直流电压经过<code>2.2mF</code>(两千二百微法)的电容输出变得平缓接近直流，因为经过<code>2.2mF</code>电容输出电压为<code>1.2Uo</code>，所以选择耐压值大约为<code>1.55Uo</code>的电容。<code>300nF</code>电容（旁路电容）主要是去除到线上的干扰，去除高频信号，一般选<code>300nF</code>就行。</p>
</li>
<li>
<p><code>240uF</code>和<code>100nF</code>两个电容组成去耦电容，大电容滤除低频干扰，小电容滤除高平干扰，其中大电容<code>240uF</code>还可以起到补充电量的作用。当外界信号变化过快时，变压块337不能快速改变电压，大电容可以放电进行补充。</p>
</li>
<li>
<p>整流桥的选择，因为单二极管需要工作在截至状态，所以二极管需要选择能承受<code>Uzmax=√2·Uo</code>（Uo为<code>44V</code>）</p>
</li>
<li>
<p><code>LM317</code>输出可调，输入最大值为<code>40V</code>。输出可调电压，可调范围为<code>1.25V~37V</code>。</p>
</li>
<li>
<p>根据稳压块的输入电压范围挑选变压器即可。</p>
</li>
</ol>
<h4 id="3-1-2-调压电路">3.1.2 调压电路</h4>
<p>​	实现可调电源，需要计算可调电阻的阻值范围</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b58aa3be43e0d30e78f1b5.jpg" alt="可调电源"></p>
<h2 id="六-整体电路仿真测试">六、整体电路仿真测试</h2>
<h3 id="1-5khz-19-76v-18-6v仿真测试">1. <code>5KHz-19.76V-18.6V</code>仿真测试</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b5943dbe43e0d30e882af3.png" alt="整体"></p>
<h3 id="2-20khz-36-5v-18-59v仿真测试">2. <code>20KHz-36.5V-18.59V</code>仿真测试</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b596fcbe43e0d30e8cb203.png" alt="整体2"></p>
<h3 id="3-失真度">3. 失真度</h3>
<p>​	可以通过微调正弦波发生器的调幅网络使电路的失真度小于<code>2%</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b59923be43e0d30e908d30.png" alt="整体3"></p>
<h3 id="4-各种波的幅度均可调">4. 各种波的幅度均可调</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63b59c4dbe43e0d30e960764.gif" alt="整体5"></p>
<h2 id="七-结论">七、结论</h2>
<p>​	电路设计思想比较简单，通过文氏桥振荡电路产生正弦波，正弦波通过滞回比较器产生方波，两种波的幅值均可以通过负反馈网络调节电压增益进行调幅操作。根据课题要求，本次实验电路设计可以很好的完成一下任务：</p>
<ol>
<li>输出波形频率范围为<code>5kHz~20kHz</code>且连续可调</li>
<li>正弦波幅值为<code>±18V</code>，失真度小于<code>2%</code></li>
<li>方波幅值为<code>9V</code></li>
<li>各种波形幅值均连续可调</li>
<li>设计电路所需的直流电源</li>
</ol>
<p>但方波失真现象较为明显仍需提高失真度。</p>
<h2 id="八-收获-体会和建议">八、收获、体会和建议</h2>
<p>​	通过本次实验，我学习了如何系统的设计电路。理论知识是实践的前提。充分理解实验原理是进行实验的第一步，没有理论知识的铺垫，就无法设计电路，更不知道如何更改电路元器件值，自然也得不到预想的结果。但同时实践也是巩固和检验理论知识的最好办法。大二上学期学习的模拟电路中的很多知识点，尤其是运算放大电路和RC振荡电路在本次实验中进行了巩固学习。</p>
<p>​	测试电路时，进一步熟悉了示波器等实验器材的使用。在波形出现问题的时候，要戒骄戒躁，细心的一步一步寻找错误，排查器件，测试波形。</p>
<p>​	经过几周的努力，我的理论知识掌握与实践动手能力都有了很大的提高，对于之后完成更加复杂的项目增强了信心。最后，感谢陈老师的悉心讲解</p>
</article><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://pic.gan1ser.top/eassy/imageonline-co-convertedwebpimage%20(1).webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/eassy/imageonline-co-convertedwebpimage%20(1).webp" alt="wechat"></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://pic.gan1ser.top/eassy/imageonline-co-convertedwebpimage.webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/eassy/imageonline-co-convertedwebpimage.webp" alt="alipay"></a><div class="post-qr-code-desc">alipay</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://www.gan1ser.top/post/2a2776c4.html"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=正弦波-方波发生器电路设计&amp;url=https://www.gan1ser.top/post/2a2776c4.html&amp;pic=https://pic.gan1ser.top/post/49.webp" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%F0%9F%93%95%E7%9F%A5%E8%AF%86/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>📕知识<span class="tagsPageCount">38</span></a><a class="post-meta__box__tags" href="/tags/%F0%9F%A7%A0%E6%95%99%E7%A8%8B/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>🧠教程<span class="tagsPageCount">14</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://pic.gan1ser.top/post/200.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css" media="print" onload="this.media='all'"><script src="https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js" defer="defer"></script></div></div></div><div class="post-copyright"><i class="anzhiyufont anzhiyu-icon-copyright"></i><div class="post-copyright__author"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://www.gan1ser.top/post/2a2776c4.html">原创</a><a class="post-copyright-title"><span>正弦波-方波发生器电路设计</span></a></div><div class="post-copyright-info-box"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"></span><a class="link" href="https://www.gan1ser.top">GanSer</a></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a class="link" href="https://www.gan1ser.top/post/2a2776c4.html">https://www.gan1ser.top/post/2a2776c4.html</a></span><span class="copy-button" onclick="rm.copyPageUrl('https://www.gan1ser.top/post/2a2776c4.html')"><i class="anzhiyufont anzhiyu-icon-copy"></i></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.gan1ser.top" target="_blank">GanSer</a>！</span></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/dab75037.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default_cover.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Hexo三连上传文章免密登录</div></div></a></div><div class="next-post pull-right"><a href="/post/cfa07e38.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/post/46.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">微机原理实验报告</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/post/1b809c7b.html" title="常用内建模块(一)"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/post/68.webp" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-07-30</div><div class="title">常用内建模块(一)</div></div></a></div><div><a href="/post/54935e99.html" title="数字电路实验-集成门电路的功能测试"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/post/47.webp" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-02-19</div><div class="title">数字电路实验-集成门电路的功能测试</div></div></a></div><div><a href="/post/e7faef96.html" title="数电课程设计-数字钟的设计"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/post/48.webp" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-02-24</div><div class="title">数电课程设计-数字钟的设计</div></div></a></div><div><a href="/post/17fc8a7f.html" title="Conda基础命令"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/post/8.webp" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-07-05</div><div class="title">Conda基础命令</div></div></a></div><div><a href="/post/ca1e50ee.html" title="Deformable ConvNets-可变形卷积学习"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/post/95.webp" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-10-14</div><div class="title">Deformable ConvNets-可变形卷积学习</div></div></a></div><div><a href="/post/8c94c2b9.html" title="Markdown公式语法汇总"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/post/10.webp" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-01-10</div><div class="title">Markdown公式语法汇总</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="author-info-top"> <div class="card-info-avatar"><a class="avatar-img" href="/about"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63f16cddf144a010070697c8.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"></a><div class="author-status-box"><div class="author-status"><g-emoji class="g-emoji" alias="writing_hand" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/270d.png">✍️</g-emoji><span>on Studying</span></div></div></div></div><div class="author-info__sayhi" id="author-info__sayhi"></div><h1 class="author-info__name">GanSer</h1><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(11, 231, 255);">（づ￣3￣）づ╭❤～恭喜小伙伴发现博客世界的一角，这是一名普通大学生关于<b style="color:#078B99">知识、科技、生活</b>相关的记录和分享，还有<b style="color:#078B99">课外学习</b>和<b style="color:#078B99">搞怪</b>。</div></div><div class="banner-button-group"><a class="banner-button" onclick="pjax.loadUrl(&quot;/about/&quot;)"><span class="banner-button-text">了解更多</span><i class="anzhiyufont anzhiyu-icon-arrow-circle-right" style="font-size: 1.5rem"></i></a></div><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/Gan1Ser" target="_blank" title="Github"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-github"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=1742158140@qq.com" target="_blank" title="Email"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-youxiang"></use></svg></a><a class="social-icon faa-parent animated-hover" href="/atom.xml" target="_blank" title="RSS"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-RSS"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/628891869" target="_blank" title="BiliBili"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-bilibili"></use></svg></a></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://pic.imgdb.cn/item/64ba6cbb1ddac507cc15022b.gif) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://pic.imgdb.cn/item/64ba67aa1ddac507cc03647b.gif) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-%E6%91%98%E8%A6%81"><span class="toc-text">一、摘要</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E8%AF%8D"><span class="toc-text">关键词</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-abstract"><span class="toc-text">二、Abstract</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#keywords"><span class="toc-text">Keywords</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89-%E8%AE%BE%E8%AE%A1%E5%86%85%E5%AE%B9%E4%BB%A5%E5%8F%8A%E8%A6%81%E6%B1%82"><span class="toc-text">三、设计内容以及要求</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%AE%BE%E8%AE%A1%E5%86%85%E5%AE%B9"><span class="toc-text">1. 设计内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%AE%BE%E8%AE%A1%E8%A6%81%E6%B1%82"><span class="toc-text">2. 设计要求</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B-%E8%AE%BE%E8%AE%A1%E5%8F%8A%E5%8E%9F%E7%90%86"><span class="toc-text">四、设计及原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%80%BB%E4%BD%93%E7%94%B5%E8%B7%AF%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%A1%88"><span class="toc-text">1. 总体电路设计方案</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF"><span class="toc-text">1.1 设计思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%AD%A3%E5%BC%A6%E6%B3%A2%E5%8F%91%E7%94%9F%E7%94%B5%E8%B7%AF%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-text">2. 正弦波发生电路的工作原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E4%BA%A7%E7%94%9F%E6%AD%A3%E5%BC%A6%E9%9C%87%E8%8D%A1%E7%9A%84%E6%9D%A1%E4%BB%B6"><span class="toc-text">2.1 产生正弦震荡的条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E6%AD%A3%E5%BC%A6%E6%B3%A2%E6%8C%AF%E8%8D%A1%E7%94%B5%E8%B7%AF%E7%9A%84%E7%BB%84%E6%88%90%E5%8F%8A%E5%88%86%E7%B1%BB"><span class="toc-text">2.2 正弦波振荡电路的组成及分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E5%88%A4%E6%96%AD%E7%94%B5%E8%B7%AF%E6%98%AF%E5%90%A6%E9%9C%87%E8%8D%A1%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">2.3 判断电路是否震荡的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-%E6%AD%A3%E5%BC%A6%E6%B3%A2%E9%9C%87%E8%8D%A1%E7%94%B5%E6%A3%80%E9%AA%8C%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">2.4 正弦波震荡电检验的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-%E6%AD%A3%E5%BC%A6%E9%9C%87%E8%8D%A1%E7%94%B5%E8%B7%AF%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">2.5 正弦震荡电路的分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-%E6%96%87%E6%B0%8F%E6%A1%A5%E9%9C%87%E8%8D%A1%E7%94%B5%E8%B7%AF-%E8%AF%BE%E8%AE%BE%E4%BD%BF%E7%94%A8"><span class="toc-text">2.6 文氏桥震荡电路（课设使用）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-6-1-%E4%BA%A7%E7%94%9F%E6%AD%A3%E5%BC%A6%E6%B3%A2"><span class="toc-text">2.6.1 产生正弦波</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-6-2-%E7%A8%B3%E5%AE%9A%E6%B3%A2%E5%BD%A2%E5%B9%85%E5%BA%A6"><span class="toc-text">2.6.2 稳定波形幅度</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-6-2-%E6%AD%A3%E5%BC%A6%E6%B3%A2%E5%B9%85%E5%80%BC%E4%B8%BA-18v"><span class="toc-text">2.6.2 正弦波幅值为±18V</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-6-3-%E6%AD%A3%E5%BC%A6%E6%B3%A2%E7%9A%84%E5%A4%B1%E7%9C%9F%E5%BA%A6%E5%B0%8F%E4%BA%8E2"><span class="toc-text">2.6.3 正弦波的失真度小于2%</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-6-4-%E9%A2%91%E7%8E%87%E5%8F%AF%E8%B0%83"><span class="toc-text">2.6.4 频率可调</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%96%B9%E6%B3%A2%E5%8F%91%E7%94%9F%E7%94%B5%E8%B7%AF%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-text">3. 方波发生电路的工作原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E6%96%B9%E6%B3%A2%E5%8F%91%E7%94%9F%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">3.1 方波发生的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E6%BB%9E%E6%AF%94%E8%BE%83%E5%99%A8%E7%94%B5%E8%B7%AF"><span class="toc-text">3.2 滞比较器电路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-%E6%96%B9%E6%B3%A2%E5%B9%85%E5%80%BC%E5%8F%AF%E8%B0%83%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-text">3.3 方波幅值可调的实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%AD%A3%E8%B4%9F%E7%A8%B3%E5%8E%8B%E6%BA%90%E7%9A%84%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86"><span class="toc-text">4. 正负稳压源的设计原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%80%BB%E7%94%B5%E8%B7%AF%E4%BB%BF%E7%9C%9F%E5%9B%BE"><span class="toc-text">5. 总电路仿真图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94-%E5%8D%95%E7%94%B5%E8%B7%AF%E4%BB%BF%E7%9C%9F"><span class="toc-text">五、单电路仿真</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%AD%A3%E5%BC%A6%E6%B3%A2%E5%8F%91%E7%94%9F%E7%94%B5%E8%B7%AF"><span class="toc-text">1. 正弦波发生电路</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E7%94%B5%E8%B7%AF%E7%BB%93%E6%9E%84%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="toc-text">1.1 电路结构及参数说明</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-1-%E7%94%B5%E8%B7%AF%E8%B5%B7%E6%8C%AF%E4%B8%8E%E7%A8%B3%E5%AE%9A"><span class="toc-text">1.1.1 电路起振与稳定</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-2-%E9%80%89%E9%A2%91%E7%BD%91%E7%BB%9C"><span class="toc-text">1.1.2 选频网络</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-3-%E8%B0%83%E5%B9%85%E7%BD%91%E7%BB%9C"><span class="toc-text">1.1.3 调幅网络</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E4%BB%BF%E7%9C%9F%E7%BB%93%E6%9E%9C"><span class="toc-text">1.2 仿真结果</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-1-5khz-18v%E4%BB%BF%E7%9C%9F"><span class="toc-text">1.2.1 5KHz-18V仿真</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-2-20khz-18v%E4%BB%BF%E7%9C%9F"><span class="toc-text">1.2.2 20KHz-18V仿真</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-3-%E5%A4%B1%E7%9C%9F%E5%BA%A6%E5%B0%8F%E4%BA%8E2"><span class="toc-text">1.2.3 失真度小于2%</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-4-%E9%A2%91%E7%8E%87%E5%8F%8A%E5%B9%85%E5%80%BC%E5%8F%AF%E8%B0%83"><span class="toc-text">1.2.4 频率及幅值可调</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%96%B9%E6%B3%A2%E5%8F%91%E7%94%9F%E7%94%B5%E8%B7%AF"><span class="toc-text">2. 方波发生电路</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E7%94%B5%E8%B7%AF%E7%BB%93%E6%9E%84%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="toc-text">2.1 电路结构及参数说明</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-1-%E6%BB%9E%E5%9B%9E%E6%AF%94%E8%BE%83%E5%99%A8"><span class="toc-text">2.1.1 滞回比较器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-2-%E6%94%B9%E5%8F%98%E5%8D%A0%E7%A9%BA%E6%AF%94"><span class="toc-text">2.1.2 改变占空比</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-3-%E8%B0%83%E5%B9%85%E7%BD%91%E7%BB%9C"><span class="toc-text">2.1.3 调幅网络</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%BB%BF%E7%9C%9F%E7%BB%93%E6%9E%9C"><span class="toc-text">2.2 仿真结果</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%B9%85%E5%80%BC9v%E7%9A%84%E6%96%B9%E6%B3%A2"><span class="toc-text">2.2.1 幅值9V的方波</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%B9%85%E5%80%BC%E5%8F%AF%E8%B0%83"><span class="toc-text">2.2.2 幅值可调</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%81%92%E6%B5%81%E6%BA%90%E5%8F%91%E7%94%9F%E7%94%B5%E8%B7%AF"><span class="toc-text">3. 恒流源发生电路</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E7%94%B5%E8%B7%AF%E7%BB%93%E6%9E%84%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="toc-text">3.1 电路结构及参数说明</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-1-%E5%85%83%E5%99%A8%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8%E5%8F%8A%E5%8F%82%E6%95%B0"><span class="toc-text">3.1.1 元器件的作用及参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-2-%E8%B0%83%E5%8E%8B%E7%94%B5%E8%B7%AF"><span class="toc-text">3.1.2 调压电路</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD-%E6%95%B4%E4%BD%93%E7%94%B5%E8%B7%AF%E4%BB%BF%E7%9C%9F%E6%B5%8B%E8%AF%95"><span class="toc-text">六、整体电路仿真测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5khz-19-76v-18-6v%E4%BB%BF%E7%9C%9F%E6%B5%8B%E8%AF%95"><span class="toc-text">1. 5KHz-19.76V-18.6V仿真测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-20khz-36-5v-18-59v%E4%BB%BF%E7%9C%9F%E6%B5%8B%E8%AF%95"><span class="toc-text">2. 20KHz-36.5V-18.59V仿真测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%A4%B1%E7%9C%9F%E5%BA%A6"><span class="toc-text">3. 失真度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%90%84%E7%A7%8D%E6%B3%A2%E7%9A%84%E5%B9%85%E5%BA%A6%E5%9D%87%E5%8F%AF%E8%B0%83"><span class="toc-text">4. 各种波的幅度均可调</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83-%E7%BB%93%E8%AE%BA"><span class="toc-text">七、结论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB-%E6%94%B6%E8%8E%B7-%E4%BD%93%E4%BC%9A%E5%92%8C%E5%BB%BA%E8%AE%AE"><span class="toc-text">八、收获、体会和建议</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/6a236522.html" title="Serv00部署Memos"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/post/200.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Serv00部署Memos"></a><div class="content"><a class="title" href="/post/6a236522.html" title="Serv00部署Memos">Serv00部署Memos</a><time datetime="2024-08-03T11:23:00.000Z" title="发表于 2024-08-03 11:23:00">2024-08-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/754a429b.html" title="信盈达实习记录"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/2024/07/afa6b89cbbe1dea701b97745bb63561a.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="信盈达实习记录"></a><div class="content"><a class="title" href="/post/754a429b.html" title="信盈达实习记录">信盈达实习记录</a><time datetime="2024-07-07T09:13:00.000Z" title="发表于 2024-07-07 09:13:00">2024-07-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/b9a95f5e.html" title="数字信号的2FSK调制与解调"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/2024/06/aec040d2e32d2754507087ab7c82ea59.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数字信号的2FSK调制与解调"></a><div class="content"><a class="title" href="/post/b9a95f5e.html" title="数字信号的2FSK调制与解调">数字信号的2FSK调制与解调</a><time datetime="2024-06-26T20:13:00.000Z" title="发表于 2024-06-26 20:13:00">2024-06-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/ab4c01cf.html" title="OFDM学习过程及仿真"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/2024/06/198b265d8791f8cf46841e25a11818fa.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="OFDM学习过程及仿真"></a><div class="content"><a class="title" href="/post/ab4c01cf.html" title="OFDM学习过程及仿真">OFDM学习过程及仿真</a><time datetime="2024-06-23T12:07:00.000Z" title="发表于 2024-06-23 12:07:00">2024-06-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/4c7a50a7.html" title="NLP谷歌语音指令训练大作业"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.gan1ser.top/post/119.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="NLP谷歌语音指令训练大作业"></a><div class="content"><a class="title" href="/post/4c7a50a7.html" title="NLP谷歌语音指令训练大作业">NLP谷歌语音指令训练大作业</a><time datetime="2024-04-29T21:13:00.000Z" title="发表于 2024-04-29 21:13:00">2024-04-29</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="shine-footer-bar"><div class="footer-logo"><i class="iconfont icon-GanSer" style="width: 2.5em; height: 1.5em; margin-right: 4px;"><use xlink:href="#icon-GanSer"></use></i></div><div class="footer-bar-description">来自 GanSer - 紫箫吟断,素笺恨切💕</div><a class="footer-bar-link" data-pjax-state="" href="/">了解更多</a></div><div id="footer_deal"><a class="deal_link" href="mailto:1742158140@qq.com" title="email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://weibo.com/u/7793068106" title="微博"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://www.facebook.com/profile.php?id=124072204066287&amp;sk=about" title="facebook"><i class="anzhiyufont anzhiyu-icon-facebook1"></i></a><img class="footer_mini_logo" title="返回顶部" onclick="anzhiyu.scrollToDest(0, 500)" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63f16cddf144a010070697c8.jpg" size="50px"><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/Gan1Ser/" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://space.bilibili.com/628891869" title="Bilibili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://v.douyin.com/iXbJbQ9/" title="抖音"><i class="anzhiyufont anzhiyu-icon-tiktok"></i></a></div><div id="anzhiyu-footer"><div class="footer-group"><div class="footer-title">服务</div><div class="footer-links"><a class="footer-item" title="51la统计" target="_blank" href="https://v6.51.la/">51la统计</a><a class="footer-item" title="十年之约" target="_blank" href="https://www.foreverblog.cn/">十年之约</a><a class="footer-item" title="开往" target="_blank" href="https://github.com/travellings-link/travellings">开往</a></div></div><div class="footer-group"><div class="footer-title">主题</div><div class="footer-links"><a class="footer-item" title="文档" target="_blank" href="https://blog.anheyu.com/docs/">文档</a><a class="footer-item" title="源码" target="_blank" href="https://github.com/Gan1Ser/Gan1Ser.github.io">源码</a><a class="footer-item" title="更新日志" target="_blank" href="/update/">更新日志</a></div></div><div class="footer-group"><div class="footer-title">导航</div><div class="footer-links"><a class="footer-item" title="即刻短文" target="_blank" href="/essay/">即刻短文</a><a class="footer-item" title="友链文章" target="_blank" href="/fcircle/">友链文章</a><a class="footer-item" title="留言板" target="_blank" href="/comments/">留言板</a></div></div><div class="footer-group"><div class="footer-title">协议</div><div class="footer-links"><a class="footer-item" title="隐私协议" target="_blank" href="/privacy/">隐私协议</a><a class="footer-item" title="Cookies" target="_blank" href="/cookies/">Cookies</a><a class="footer-item" title="版权协议" target="_blank" href="/copyright/">版权协议</a></div></div><div class="footer-group"><div class="footer-title-group"><div class="footer-title">友链</div><a class="random-friends-btn" id="footer-random-friends-btn" href="javascript:addFriendLinksInFooter();" title="换一批友情链接"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i></a></div><div class="footer-links" id="friend-links-in-footer"></div></div></div><div class="copyright">©2022 - 2024 By GanSer</div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"></a><a class="github-badge" target="_blank" href="https://anheyu.com/" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"></a><a class="github-badge" target="_blank" href="https://www.dogecloud.com/" style="margin-inline:5px" data-title="本站使用多吉云为静态资源提供CDN加速" title="本站使用多吉云为静态资源提供CDN加速"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/CDN-多吉云-3693F3.svg" alt="本站使用多吉云为静态资源提供CDN加速"></a><a class="github-badge" target="_blank" href="https://beian.miit.gov.cn/" style="margin-inline:5px" data-title="本站已在豫进行备案" title="本站已在豫进行备案"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/65140754c458853aef47c0b4.jpg" alt="本站已在豫进行备案"></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title="本站项目由Github托管"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Source-Github.svg" alt="本站项目由Github托管"></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/Copyright-BY-NC-SA.svg" alt="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></footer></div></div></div><div id="sidebar"><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.imgdb.cn/item/63f16cddf144a010070697c8.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">128</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">33</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/memos/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 即刻短文</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=7750616521&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/collect/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 影漫佳选</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/todolist/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 待办清单</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div></div><div id="keyboard-tips"><div class="keyboardTitle">博客快捷键</div><div class="keybordList"><div class="keybordItem"><div class="keyGroup"><div class="key">shift K</div></div><div class="keyContent"><div class="content">关闭快捷键功能</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift A</div></div><div class="keyContent"><div class="content">打开中控台</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift M</div></div><div class="keyContent"><div class="content">播放/暂停音乐</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift D</div></div><div class="keyContent"><div class="content">深色/浅色显示模式</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift S</div></div><div class="keyContent"><div class="content">站内搜索</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift R</div></div><div class="keyContent"><div class="content">随机访问</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift H</div></div><div class="keyContent"><div class="content">返回首页</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift F</div></div><div class="keyContent"><div class="content">友链鱼塘</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift L</div></div><div class="keyContent"><div class="content">友链页面</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift P</div></div><div class="keyContent"><div class="content">关于本站</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift I</div></div><div class="keyContent"><div class="content">原版右键菜单</div></div></div></div></div><script>var anzhiyu_intype = false
var anzhiyu_keyUpEvent_timeoutId = null
var anzhiyu_keyUpShiftDelayEvent_timeoutId = null
function addKeyShotListener() {
  const windowObject = window;
  windowObject.removeEventListener("keydown", keyDownEvent);
  windowObject.removeEventListener("keyup", keyUpEvent);
  windowObject.addEventListener("keydown", keyDownEvent);
  windowObject.addEventListener("keyup", keyUpEvent);
}

function keyDownEvent(event) {
  const isEscapeKeyPressed = event.keyCode === 27;
  const isShiftKeyPressed = event.shiftKey;
  const isKeyboardEnabled = anzhiyu_keyboard;
  const isInInputField = anzhiyu_intype;

  if (isEscapeKeyPressed) {
    anzhiyu.hideLoading();
    anzhiyu.hideConsole();
    rm.hideRightMenu();
  }

  if (isKeyboardEnabled && isShiftKeyPressed && !isInInputField) {
    anzhiyu_keyUpShiftDelayEvent_timeoutId = setTimeout(()=>{
      switch (event.keyCode) {
        case 16:
          anzhiyu_keyUpEvent_timeoutId = setTimeout(()=>{
            document.querySelector("#keyboard-tips").classList.add("show");
          }, 200);
          break;
        case 65:
          anzhiyu.showConsole();
          break;
        case 77:
          anzhiyu.musicToggle();
          break;
        case 75:
          anzhiyu.keyboardToggle();
          break;
        case 73:
          anzhiyu.rightMenuToggle();
          break;
        case 82:
          toRandomPost();
          break;
        case 72:
          pjax.loadUrl("/");
          break;
        case 68:
          anzhiyu.switchDarkMode();
          break;
        case 70:
          pjax.loadUrl("/fcircle/");
          break;
        case 76:
          pjax.loadUrl("/link/");
          break;
        case 80:
          pjax.loadUrl("/about/");
          break;
        default:
          break;
      }

      event.preventDefault();
    }, 100);
  }
}

addKeyShotListener();

window.onfocus = function() {
  document.getElementById("keyboard-tips").classList.remove("show")
}

function setInputFocusListener() {
  const inputs = document.querySelectorAll("input, textarea");

  inputs.forEach((input) => {
    input.addEventListener("focus", () => {
      setAnzhiyuIntype(true);
    });

    input.addEventListener("blur", () => {
      setAnzhiyuIntype(false);
    });
  });
}

function setanzhiyuIntype(value) {
  anzhiyu_intype = value;
}

function keyUpEvent(event) {
  anzhiyu_keyUpEvent_timeoutId && clearTimeout(anzhiyu_keyUpEvent_timeoutId);
  anzhiyu_keyUpShiftDelayEvent_timeoutId && clearTimeout(anzhiyu_keyUpShiftDelayEvent_timeoutId);
  if (event.keyCode === 16) {
    const keyboardTips = document.querySelector("#keyboard-tips");
    keyboardTips.classList.remove("show");
  }
}

function listenToPageInputPress() {
  const inputElement = document.getElementById("toPageText");
  const buttonElement = document.getElementById("toPageButton");

  if (!inputElement) {
    return;
  }

  inputElement.addEventListener("keydown", (event) => {
    if (event.keyCode === 13) {
      event.preventDefault();
      anzhiyu.toPage();
      pjax.loadUrl(buttonElement.href);
    }
  });

  inputElement.addEventListener("input", () => {
    const value = inputElement.value;
    if (!value || value === "0") {
      buttonElement.classList.remove("haveValue");
    } else {
      buttonElement.classList.add("haveValue");
    }

    const pageNumbers = document.querySelectorAll(".page-number");
    const maxPageNumber = +pageNumbers[pageNumbers.length - 1].innerHTML;

    if (+value > maxPageNumber) {
      inputElement.value = maxPageNumber;
    }
  });
}

setInputFocusListener()</script><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><a id="switch_commentBarrage" href="javascript:anzhiyu.switchCommentBarrage();" title="开关弹幕"><i class="anzhiyufont anzhiyu-icon-danmu"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="7750616521" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.4.0/source/js/utils.js"></script><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.4.0/source/js/main.js"></script><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.4.0/source/js/tw_cn.js"></script><script src="https://npm.elemecdn.com/@fancyapps/ui@4.0.31/dist/fancybox.umd.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.js"></script><canvas id="universe"></canvas><script async="" src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2022 By 安知鱼 1.4.0",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#465855",
      "",
      "color:#465855",
      "color:#465855",
      "",
      "color:#465855",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 GanSer 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async="" src="/anzhiyu/random.js"></script><script src="https://npm.elemecdn.com/algoliasearch@4.14.2/dist/algoliasearch-lite.umd.js"></script><script src="https://npm.elemecdn.com/instantsearch.js@4.46.1/dist/instantsearch.production.min.js"></script><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.4.0/source/js/search/algolia.js"></script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.gan1ser.top/',
      region: '',
      onCommentLoaded: function () {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.gan1ser.top/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init();
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/twikoo/1.4.18/twikoo.all.min.js').then(runFn)
  }
  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo.gan1ser.top/',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/twikoo/1.4.18/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'><div class='name'><span>${array[i].nick}</span></div></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async="" data-pjax="" src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "1742158140@qq.com";</script><script>//动态标题
let leaveTitle = 'w(ﾟДﾟ)w 不要走！再看看嘛！';
let backTitle = '♪(^∇^*)欢迎肥来！';
let OriginTitile = document.title
let titleTime
document.addEventListener('visibilitychange', function () {
  if (document.hidden) {
    //离开当前页面时标签显示内容
    document.title = leaveTitle
    clearTimeout(titleTime)
  } else {
    //返回当前页面时标签显示内容
    document.title = backTitle + OriginTitile
    //两秒后变回正常标题
    titleTime = setTimeout(function () {
      document.title = OriginTitile
    }, 2000)
  }
})</script><script data-pjax="true">if (document.querySelector(".comment-barrage")){
  var commentBarrageConfig = {
    maxBarrage: 1,
    barrageTime: 4000,
    twikooUrl: "https://twikoo.gan1ser.top/",
    accessToken: "034aa2035fc6c553efefed34b8041214",
    mailMd5: "",
    pageUrl: window.location.pathname,
    barrageTimer: [],
    barrageList: [],
    barrageIndex: 0,
    dom: document.querySelector(".comment-barrage"),
  };
  var commentInterval = null;
  var hoverOnCommentBarrage = false;
  
  document.querySelector(".comment-barrage").addEventListener("mouseenter", function() {
    hoverOnCommentBarrage = true;
  });
  document.querySelector(".comment-barrage").addEventListener("mouseleave", function() {
    hoverOnCommentBarrage = false;
  });

  function initCommentBarrage() {
    if (!commentBarrageConfig.dom) return;

    var data = JSON.stringify({
      event: "COMMENT_GET",
      "commentBarrageConfig.accessToken": commentBarrageConfig.accessToken,
      url: commentBarrageConfig.pageUrl,
    });
    var xhr = new XMLHttpRequest();
    xhr.withCredentials = true;
    xhr.addEventListener("readystatechange", function () {
      if (this.readyState === 4 && this.responseText) {
        commentBarrageConfig.barrageList = commentLinkFilter(JSON.parse(this.responseText).data);
        commentBarrageConfig.dom.innerHTML = "";
      }
    });
    xhr.open("POST", commentBarrageConfig.twikooUrl);
    xhr.setRequestHeader("Content-Type", "application/json");
    xhr.send(data);

    clearInterval(commentInterval);
    commentInterval = null;

    commentInterval = setInterval(() => {
      if (commentBarrageConfig.barrageList.length && !hoverOnCommentBarrage) {
        popCommentBarrage(commentBarrageConfig.barrageList[commentBarrageConfig.barrageIndex]);
        commentBarrageConfig.barrageIndex += 1;
        commentBarrageConfig.barrageIndex %= commentBarrageConfig.barrageList.length;
      }
      if (
        commentBarrageConfig.barrageTimer.length >
          (commentBarrageConfig.barrageList.length > commentBarrageConfig.maxBarrage
            ? commentBarrageConfig.maxBarrage
            : commentBarrageConfig.barrageList.length) &&
        !hoverOnCommentBarrage
      ) {
        removeCommentBarrage(commentBarrageConfig.barrageTimer.shift());
      }
    }, commentBarrageConfig.barrageTime);
  }

  function commentLinkFilter(data) {
    data.sort((a, b) => {
      return a.created - b.created;
    });
    let newData = [];
    data.forEach(item => {
      newData.push(...getCommentReplies(item));
    });
    return newData;
  }

  function getCommentReplies(item) {
    if (item.replies) {
      let replies = [item];
      item.replies.forEach(item => {
        replies.push(...getCommentReplies(item));
      });
      return replies;
    } else {
      return [];
    }
  }

  function popCommentBarrage(data) {
    let barrage = document.createElement("div");
    barrage.className = "comment-barrage-item";
    barrage.innerHTML = `
        <div class="barrageHead">
          <a class="barrageTitle ${
            data.mailMd5 === commentBarrageConfig.mailMd5 ? "barrageBloggerTitle" : ""
          }" href="javascript:anzhiyu.scrollTo('#post-comment')"">
            ${data.mailMd5 === commentBarrageConfig.mailMd5 ? "博主" : "热评"}
          </a>
          <div class="barrageNick">${data.nick}</div>
          <img class="nolazyload barrageAvatar" src="https://cravatar.cn/avatar/${data.mailMd5}"/>
          <a class="comment-barrage-close" href="javascript:anzhiyu.switchCommentBarrage()"><i class="anzhiyufont anzhiyu-icon-xmark"></i></a>
        </div>
        <a class="barrageContent" href="#${data.id}">
          <object>${data.comment}</object>
        </a>
      `;
    commentBarrageConfig.barrageTimer.push(barrage);
    commentBarrageConfig.dom.append(barrage);
  }

  function removeCommentBarrage(barrage) {
    barrage.className = "comment-barrage-item out";

    setTimeout(() => {
      if (commentBarrageConfig.dom && commentBarrageConfig.dom.contains(barrage)) {
        commentBarrageConfig.dom.removeChild(barrage);
      }
      }, 1000);
    }

    // 自动隐藏
    const commentEntryCallback = (entries) => {
      const commentBarrage = document.querySelector(".comment-barrage");
      const postComment = document.getElementById("post-comment");

      entries.forEach(entry => {
        if (postComment && commentBarrage && document.body.clientWidth > 768) {
          commentBarrage.style.bottom = entry.isIntersecting ? "-200px" : "0";
        }
      });
    };
    // 创建IntersectionObserver实例
    const observer = new IntersectionObserver(commentEntryCallback, {
      root: null,
      rootMargin: "0px",
      threshold: 0
    });
    // 监视目标元素
    const postCommentTarget = document.getElementById("post-comment");
    if (postCommentTarget) {
      observer.observe(postCommentTarget);
    }

    initCommentBarrage();

    if (localStorage.getItem("commentBarrageSwitch") !== "false") {
      document.querySelector(".comment-barrage").style.display = "flex";
      document.querySelector(".menu-commentBarrage-text").textContent = "关闭热评";
    } else {
      document.querySelector(".comment-barrage").style.display = "none";
      document.querySelector(".menu-commentBarrage-text").textContent = "显示热评";
    }

    document.addEventListener("pjax:send", function () {
      clearInterval(commentInterval);
    });

  }</script><script async="" data-pjax="" src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script>// 初始化函数
let rm = {};

//禁止图片与超链接拖拽
let aElements = document.getElementsByTagName("a");
for (let i = 0; i < aElements.length; i++) {
  aElements[i].setAttribute("draggable", "false");
  let imgElements = aElements[i].getElementsByTagName("img");
  for (let j = 0; j < imgElements.length; j++) {
    imgElements[j].setAttribute("draggable", "false");
  }
}

// 显示菜单
rm.showRightMenu = function (isTrue, x = 0, y = 0) {
  console.info(x, y)
  let rightMenu = document.getElementById("rightMenu");
  rightMenu.style.top = x + "px";
  rightMenu.style.left = y + "px";
  if (isTrue) {
    rightMenu.style.display = "block";
    stopMaskScroll();
  } else {
    rightMenu.style.display = "none";
  }
};

// 隐藏菜单
rm.hideRightMenu = function () {
  rm.showRightMenu(false);
  let rightMenuMask = document.querySelector("#rightmenu-mask");
  rightMenuMask.style.display = "none";
};

// 尺寸
let rmWidth = document.getElementById("rightMenu").offsetWidth;
let rmHeight = document.getElementById("rightMenu").offsetHeight;

// 重新定义尺寸
rm.reloadrmSize = function () {
  rightMenu.style.visibility = "hidden";
  rightMenu.style.display = "block";
  // 获取宽度和高度
  rmWidth = document.getElementById("rightMenu").offsetWidth;
  rmHeight = document.getElementById("rightMenu").offsetHeight;
  rightMenu.style.visibility = "visible";
};

// 获取点击的href
let domhref = "";
let domImgSrc = "";
let globalEvent = null;

var oncontextmenuFunction = function (event) {
  if (document.body.clientWidth > 768) {
    let pageX = event.clientX + 10; //加10是为了防止显示时鼠标遮在菜单上
    let pageY = event.clientY;

    //其他额外菜单
    const $rightMenuOther = document.querySelector(".rightMenuOther");
    const $rightMenuPlugin = document.querySelector(".rightMenuPlugin");
    const $rightMenuCopyText = document.querySelector("#menu-copytext");
    const $rightMenuPasteText = document.querySelector("#menu-pastetext");
    const $rightMenuCommentText = document.querySelector("#menu-commenttext");
    const $rightMenuNewWindow = document.querySelector("#menu-newwindow");
    const $rightMenuNewWindowImg = document.querySelector("#menu-newwindowimg");
    const $rightMenuCopyLink = document.querySelector("#menu-copylink");
    const $rightMenuCopyImg = document.querySelector("#menu-copyimg");
    const $rightMenuDownloadImg = document.querySelector("#menu-downloadimg");
    const $rightMenuSearch = document.querySelector("#menu-search");
    const $rightMenuSearchBaidu = document.querySelector("#menu-searchBaidu");
    const $rightMenuMusicToggle = document.querySelector("#menu-music-toggle");
    const $rightMenuMusicBack = document.querySelector("#menu-music-back");
    const $rightMenuMusicForward = document.querySelector("#menu-music-forward");
    const $rightMenuMusicPlaylist = document.querySelector("#menu-music-playlist");
    const $rightMenuMusicCopyMusicName = document.querySelector("#menu-music-copyMusicName");

    let href = event.target.href;
    let imgsrc = event.target.currentSrc;

    // 判断模式 扩展模式为有事件
    let pluginMode = false;
    $rightMenuOther.style.display = "block";
    globalEvent = event;

    // 检查是否需要复制 是否有选中文本
    if (selectTextNow && window.getSelection()) {
      pluginMode = true;
      $rightMenuCopyText.style.display = "block";
      $rightMenuCommentText.style.display = "block";
      $rightMenuSearch.style.display = "block";
      $rightMenuSearchBaidu.style.display = "block";
    } else {
      $rightMenuCopyText.style.display = "none";
      $rightMenuCommentText.style.display = "none";
      $rightMenuSearchBaidu.style.display = "none";
      $rightMenuSearch.style.display = "none";
    }

    //检查是否右键点击了链接a标签
    if (href) {
      pluginMode = true;
      $rightMenuNewWindow.style.display = "block";
      $rightMenuCopyLink.style.display = "block";
      domhref = href;
    } else {
      $rightMenuNewWindow.style.display = "none";
      $rightMenuCopyLink.style.display = "none";
    }

    //检查是否需要复制图片
    if (imgsrc) {
      pluginMode = true;
      $rightMenuCopyImg.style.display = "block";
      $rightMenuDownloadImg.style.display = "block";
      $rightMenuNewWindowImg.style.display = "block";
      document.getElementById("rightMenu").style.width="12rem"
      domImgSrc = imgsrc;
    } else {
      $rightMenuCopyImg.style.display = "none";
      $rightMenuDownloadImg.style.display = "none";
      $rightMenuNewWindowImg.style.display = "none";
    }

    // 判断是否为输入框
    if (event.target.tagName.toLowerCase() === "input" || event.target.tagName.toLowerCase() === "textarea") {
      pluginMode = true;
      $rightMenuPasteText.style.display = "block";
    } else {
      $rightMenuPasteText.style.display = "none";
    }
    const navMusicEl = document.querySelector("#nav-music");
    //判断是否是音乐
    if (navMusicEl && navMusicEl.contains(event.target)) {
      pluginMode = true;
      $rightMenuMusicToggle.style.display = "block";
      $rightMenuMusicBack.style.display = "block";
      $rightMenuMusicForward.style.display = "block";
      $rightMenuMusicPlaylist.style.display = "block";
      $rightMenuMusicCopyMusicName.style.display = "block";
    } else {
      $rightMenuMusicToggle.style.display = "none";
      $rightMenuMusicBack.style.display = "none";
      $rightMenuMusicForward.style.display = "none";
      $rightMenuMusicPlaylist.style.display = "none";
      $rightMenuMusicCopyMusicName.style.display = "none";
    }

    // 如果不是扩展模式则隐藏扩展模块
    if (pluginMode) {
      $rightMenuOther.style.display = "none";
      $rightMenuPlugin.style.display = "block";
    } else {
      $rightMenuPlugin.style.display = "none";
    }

    rm.reloadrmSize();

    // 鼠标默认显示在鼠标右下方，当鼠标靠右或靠下时，将菜单显示在鼠标左方\上方
    if (pageX + rmWidth > window.innerWidth) {
      pageX -= rmWidth + 10;
    }
    if (pageY + rmHeight > window.innerHeight) {
      pageY -= pageY + rmHeight - window.innerHeight;
    }

    rm.showRightMenu(true, pageY, pageX);
    document.getElementById("rightmenu-mask").style.display = "flex";
    return false;
  }
};

// 监听右键初始化
window.oncontextmenu = oncontextmenuFunction

// 下载图片状态
rm.downloadimging = false;

// 复制图片到剪贴板
rm.writeClipImg = function (imgsrc) {
  console.log("按下复制");
  rm.hideRightMenu();
  anzhiyu.snackbarShow("正在下载中，请稍后", false, 10000);
  if (rm.downloadimging == false) {
    rm.downloadimging = true;
    setTimeout(function () {
      copyImage(imgsrc);
      anzhiyu.snackbarShow("复制成功！图片已添加盲水印，请遵守版权协议");
      rm.downloadimging = false;
    }, "10000");
  }
};

function imageToBlob(imageURL) {
  const img = new Image();
  const c = document.createElement("canvas");
  const ctx = c.getContext("2d");
  img.crossOrigin = "";
  img.src = imageURL;
  return new Promise(resolve => {
    img.onload = function () {
      c.width = this.naturalWidth;
      c.height = this.naturalHeight;
      ctx.drawImage(this, 0, 0);
      c.toBlob(
        blob => {
          // here the image is a blob
          resolve(blob);
        },
        "image/png",
        0.75
      );
    };
  });
}

async function copyImage(imageURL) {
  const blob = await imageToBlob(imageURL);
  const item = new ClipboardItem({ "image/png": blob });
  navigator.clipboard.write([item]);
}

rm.copyUrl = function (id) {
  const input = document.createElement("input"); // Create a new <input> element
  input.id = "copyVal"; // Set the id of the new element to "copyVal"
  document.body.appendChild(input); // Append the new element to the end of the <body> element
  
  const text = id;
  input.value = text;
  input.select();
  input.setSelectionRange(0, input.value.length);
  document.execCommand("copy");
  
  input.remove(); // Remove the <input> element from the DOM
};

function stopMaskScroll() {
  if (document.getElementById("rightmenu-mask")) {
    let xscroll = document.getElementById("rightmenu-mask");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //阻止浏览器默认方法
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
  if (document.getElementById("rightMenu")) {
    let xscroll = document.getElementById("rightMenu");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //阻止浏览器默认方法
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
}

rm.rightmenuCopyText = function (txt) {
  if (navigator.clipboard) {
    navigator.clipboard.writeText(txt);
  }
  rm.hideRightMenu();
};

rm.copyPageUrl = function (url) {
  if (!url) {
    url = window.location.href;
  }
  rm.copyUrl(url);
  anzhiyu.snackbarShow("复制本页链接地址成功", false, 2000);
  rm.hideRightMenu();
};

rm.sharePage = function () {
  var content = window.location.href;
  rm.copyUrl(url);
  anzhiyu.snackbarShow("复制本页链接地址成功", false, 2000);
  rm.hideRightMenu();
};

// 复制当前选中文本
var selectTextNow = "";
document.onmouseup = document.ondblclick = selceText;

function selceText() {
  var txt;
  if (document.selection) {
    txt = document.selection.createRange().text;
  } else {
    txt = window.getSelection().toString();
  }
  selectTextNow = txt !== "" ? txt : "";
}

// 读取剪切板
rm.readClipboard = function () {
  if (navigator.clipboard) {
    navigator.clipboard.readText().then(clipText => rm.insertAtCaret(globalEvent.target, clipText));
  }
};

// 粘贴文本到焦点
rm.insertAtCaret = function (elemt, value) {
  const startPos = elemt.selectionStart,
    endPos = elemt.selectionEnd;
  if (document.selection) {
    elemt.focus();
    var sel = document.selection.createRange();
    sel.text = value;
    elemt.focus();
  } else {
    if (startPos || startPos == "0") {
      var scrollTop = elemt.scrollTop;
      elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);
      elemt.focus();
      elemt.selectionStart = startPos + value.length;
      elemt.selectionEnd = startPos + value.length;
      elemt.scrollTop = scrollTop;
    } else {
      elemt.value += value;
      elemt.focus();
    }
  }
};

//粘贴文本
rm.pasteText = function () {
  const result = rm.readClipboard() || "";
  rm.hideRightMenu();
};

//引用到评论
rm.rightMenuCommentText = function (txt) {
  rm.hideRightMenu();
  const postCommentDom = document.getElementById("post-comment");
  var domTop = postCommentDom.offsetTop;
  window.scrollTo(0, domTop - 80);
  if (txt == "undefined" || txt == "null") txt = "好棒！";
  function setText() {
    setTimeout(() => {
      var input = document.getElementsByClassName("el-textarea__inner")[0];
      if (!input) setText();
      let evt = document.createEvent("HTMLEvents");
      evt.initEvent("input", true, true);
      let inputValue = replaceAll(txt, "\n", "\n> ");
      input.value = "> " + inputValue + "\n\n";
      input.dispatchEvent(evt);
      input.focus();
      input.setSelectionRange(-1, -1);
      if (document.getElementById("comment-tips")) {
        document.getElementById("comment-tips").classList.add("show");
      }
    }, 100);
  }
  setText();
};

//替换所有内容
function replaceAll(string, search, replace) {
  return string.split(search).join(replace);
}

// 百度搜索
rm.searchBaidu = function () {
  anzhiyu.snackbarShow("即将跳转到百度搜索", false, 2000);
  setTimeout(function () {
    window.open("https://www.baidu.com/s?wd=" + selectTextNow);
  }, "2000");
  rm.hideRightMenu();
};

//分享链接
rm.copyLink = function () {
  rm.rightmenuCopyText(domhref);
  anzhiyu.snackbarShow("已复制链接地址");
};

function addRightMenuClickEvent() {
  // 添加点击事件
  document.getElementById("menu-backward").addEventListener("click", function () {
  window.history.back();
    rm.hideRightMenu();
  });

  document.getElementById("menu-forward").addEventListener("click", function () {
    window.history.forward();
    rm.hideRightMenu();
  });

  document.getElementById("menu-refresh").addEventListener("click", function () {
    window.location.reload();
  });

  document.getElementById("menu-top").addEventListener("click", function () {
    anzhiyu.scrollToDest(0, 500);
    rm.hideRightMenu();
  });

  const menuLinks = document.querySelectorAll(".menu-link");
  menuLinks.forEach(function (link) {
    link.addEventListener("click", rm.hideRightMenu);
  });

  document.getElementById("menu-darkmode").addEventListener("click", anzhiyu.switchDarkMode);

  document.getElementById("menu-home") && document.getElementById("menu-home").addEventListener("click", function () {
    window.location.href = window.location.origin;
  });

  document.getElementById("menu-randomPost").addEventListener("click", function () {
    toRandomPost();
  });

  document.getElementById("menu-commentBarrage").addEventListener("click", anzhiyu.switchCommentBarrage);

  document.getElementById("rightmenu-mask").addEventListener("click", rm.hideRightMenu);

  document.getElementById("rightmenu-mask").addEventListener("contextmenu", function (event) {
    rm.hideRightMenu();
    event.preventDefault(); // Prevent the default context menu from appearing
  });

  document.getElementById("menu-copy").addEventListener("click", rm.copyPageUrl);

  document.getElementById("menu-pastetext").addEventListener("click", rm.pasteText);

  document.getElementById("menu-copytext").addEventListener("click", function () {
    rm.rightmenuCopyText(selectTextNow);
    anzhiyu.snackbarShow("复制成功，复制和转载请标注本文地址");
  });

  document.getElementById("menu-commenttext").addEventListener("click", function () {
    rm.rightMenuCommentText(selectTextNow);
  });

  document.getElementById("menu-newwindow").addEventListener("click", function () {
    window.open(domhref, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copylink").addEventListener("click", rm.copyLink);

  document.getElementById("menu-downloadimg").addEventListener("click", function () {
    anzhiyu.downloadImage(domImgSrc, "anzhiyu");
  });

  document.getElementById("menu-newwindowimg").addEventListener("click", function () {
    window.open(domImgSrc, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copyimg").addEventListener("click", function () {
    rm.writeClipImg(domImgSrc);
  });

  document.getElementById("menu-searchBaidu").addEventListener("click", rm.searchBaidu);

  //音乐
  document.getElementById("menu-music-toggle").addEventListener("click", anzhiyu.musicToggle);

  document.getElementById("menu-music-back").addEventListener("click", anzhiyu.musicSkipBack);

  document.getElementById("menu-music-forward").addEventListener("click", anzhiyu.musicSkipForward);

  document.getElementById("menu-music-copyMusicName").addEventListener("click", function () {
    rm.rightmenuCopyText(anzhiyu.musicGetName());
    anzhiyu.snackbarShow("复制歌曲名称成功", false, 3000);
  });

}

addRightMenuClickEvent();</script><script data-pjax="">var themeColorMeta = document.querySelector('meta[name="theme-color"]');
var pageHeaderEl = document.getElementById("page-header");
var navMusicEl = document.getElementById("nav-music");
var consoleEl = document.getElementById("console");
// 已随机的歌曲
var selectRandomSong = [];
// 音乐默认声音大小
var musicVolume = 0.8;
// 是否切换了周杰伦音乐列表
var changeMusicListFlag = false;
// 当前默认播放列表
var defaultPlayMusicList = [];

document.getElementById("page-name").innerText = document.title.split(" | GanSer")[0];
anzhiyu.initIndexEssay();
anzhiyu.changeTimeInEssay();
anzhiyu.removeBodyPaceClass();
anzhiyu.qrcodeCreate();
anzhiyu.changeTimeInAlbumDetail();
anzhiyu.reflashEssayWaterFall();
anzhiyu.sayhi();
anzhiyu.stopImgRightDrag();
anzhiyu.addNavBackgroundInit();
anzhiyu.setValueToBodyType();
anzhiyu.catalogActive();
anzhiyu.tagsPageActive();
anzhiyu.categoriesBarActive();
anzhiyu.topCategoriesBarScroll();
anzhiyu.switchRightClickMenuHotReview();
anzhiyu.getCustomPlayList();
anzhiyu.addEventListenerConsoleMusicList(false);
setTimeout(() => {
  if (typeof addFriendLinksInFooter === "function") {
    addFriendLinksInFooter();
  }
}, 200)</script><script charset="UTF-8" id="LA_COLLECT" src="https://sdk.51.la/js-sdk-pro.min.js"></script><script src="https://sdk.51.la/perf/js-sdk-perf.min.js" crossorigin="anonymous"></script><script>LA.init({id: "K2Vkt1ZVOZBb2pOv", ck: "K2Vkt1ZVOZBb2pOv"});
new LingQue.Monitor().init({id: "K2Vkt1ZVOZBb2pOv", sendSuspicious:true});</script><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.1.4/icon/ali_iconfont_css.css"><script async="" data-pjax="" src="/js/imgloaded.js?1"></script><script defer="" src="//at.alicdn.com/t/c/font_3816086_jveqqa1cjpg.js"></script><script data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}" src="https://cdn.jsdelivr.net/npm/pace-js@latest/pace.min.js"></script><script async="" src="https://npm.onmicrosoft.cn/naokuo-blog@1.2.10/js/SmoothScroll.min.js"></script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://npm.elemecdn.com/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://npm.elemecdn.com/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div></body></html>